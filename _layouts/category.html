---
layout: page
---

<div class="category-page">
  {% if page.description %}
  <p class="category-description">{{ page.description }}</p>
  {% endif %}

  {% assign category = page.category | default: page.category_slug | default: page.category_name %}
  {% if category == nil or category == "" %}
    {% assign category = page.categories | first %}
  {% endif %}
  {% if category %}
    {% assign category_posts = site.posts | where_exp: "post", "post.categories contains category" %}
  {% endif %}

  {{ content }}

  {% if category_posts and category_posts.size > 0 %}
  <ul class="category-posts">
    {% for post in category_posts %}
    <li class="category-post">
      <a href="{{ post.url | relative_url }}">
        {{ post.title }}
        {% if post.subtitle %}
        <span class="category-post-subtitle">
          {% if post.subtitle_lang %}
          <span class="subtitle-ja" lang="{{ post.subtitle_lang }}">{{ post.subtitle }}</span>
          {% else %}
          <span class="subtitle-ja">{{ post.subtitle }}</span>
          {% endif %}
        </span>
        {% endif %}
      </a>
      <span class="category-post-date">{{ post.date | date: "%B %d, %Y" }}</span>
    </li>
    {% endfor %}
  </ul>
  {% else %}
  <p class="category-empty">No posts yet.</p>
  {% endif %}
</div>

<style>
  .category-page {
    max-width: 900px;
    margin: 0 auto;
    padding: 10px 20px 30px;
  }
  .category-description {
    margin: 0 0 20px;
    color: #666;
  }
  .category-posts {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  .category-post {
    display: flex;
    justify-content: space-between;
    gap: 16px;
    padding: 10px 0;
    border-bottom: 1px solid #e3e3e3;
  }
  .category-post a {
    text-decoration: none;
    display: flex;
    flex-direction: column;
    gap: 2px;
  }
  .category-post-subtitle {
    font-size: 1em;
    color: #666;
    line-height: 1.2;
  }
  .category-post-subtitle .subtitle-ja {
    font-weight: 300;
  }
  .category-post-date {
    color: #888;
    white-space: nowrap;
    font-size: 0.9em;
  }
  .category-empty {
    color: #888;
    font-style: italic;
  }
</style>
